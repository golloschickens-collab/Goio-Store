###############################################
# Palacio Central – Plantilla de Variables .env
# Copiar como .env y rellenar los <REEMPLAZAR_...>
# Nunca commitear .env real.
# Formato: VARIABLE=valor (sin comillas salvo que contenga espacios)
###############################################

# --- Core Servicio HTTP / Supervisor ---
PORT=3002
API_TOKEN=<REEMPLAZAR_TOKEN_API_INTERNO>
METRICS_TOKEN=<REEMPLAZAR_TOKEN_METRICAS>
HMAC_SECRET=<REEMPLAZAR_SECRETO_WEBHOOKS>
LOG_LEVEL=info

# --- Ciclos y Tareas ---
WORKER_INTERVAL_MS=60000          # Intervalo loop worker (ms)
TASK_MAX_RETRIES=3                # Reintentos máximos tareas
TASK_BASE_BACKOFF_MS=30000        # Backoff base (ms)

# --- Shopify (Producción) ---
SHOPIFY_DOMAIN_PROD=<REEMPLAZAR_SHOPIFY_DOMINIO_PROD>          # ej: myshop-prod.myshopify.com
SHOPIFY_ADMIN_TOKEN_PROD=<REEMPLAZAR_SHOPIFY_ADMIN_TOKEN_PROD>
SHOPIFY_API_KEY_PROD=<REEMPLAZAR_SHOPIFY_API_KEY_PROD>

# --- Shopify (Desarrollo) ---
SHOPIFY_DOMAIN_DEV=<REEMPLAZAR_SHOPIFY_DOMINIO_DEV>
SHOPIFY_ADMIN_TOKEN_DEV=<REEMPLAZAR_SHOPIFY_ADMIN_TOKEN_DEV>

# --- Shopify Auxiliar / Scripts Genéricos ---
SHOPIFY_API_URL=https://<REEMPLAZAR_SHOPIFY_DOMINIO_PROD>/admin/api
SHOPIFY_TOKEN=<REEMPLAZAR_TOKEN_GENERICO_OPCIONAL>
SHOPIFY_API_VERSION=2024-07
SHOPIFY_STORE=<REEMPLAZAR_ALIAS_STORE>
SHOPIFY_STORE_DOMAIN=<REEMPLAZAR_DOMINIO_STORE_ACCESO>
SHOPIFY_ACCESS_TOKEN=<REEMPLAZAR_ACCESS_TOKEN_STORE>
SHOPIFY_ENV=dev                    # dev | prod

# --- Auditoría / Legacy (si se usa en scripts/store-audit.js) ---
PROD_SHOPIFY_STORE=<REEMPLAZAR_DOMINIO_STORE_PROD>
PROD_SHOPIFY_ADMIN_TOKEN=<REEMPLAZAR_ADMIN_TOKEN_PROD_LEGACY>

# --- Meta / Facebook / WhatsApp ---
FACEBOOK_PAGE_ID=<REEMPLAZAR_FACEBOOK_PAGE_ID>
FACEBOOK_ACCESS_TOKEN=<REEMPLAZAR_FACEBOOK_PAGE_TOKEN>
WA_PROVIDER=meta                   # meta | otro
META_WA_PHONE_ID=<REEMPLAZAR_WA_PHONE_ID>
META_WA_TOKEN=<REEMPLAZAR_WA_TOKEN>

# --- Gemini (Google Generative AI) ---
GEMINI_API_KEY=<REEMPLAZAR_GEMINI_API_KEY>

# --- APIFY / Scraping Controlado ---
APIFY_TOKEN=<REEMPLAZAR_APIFY_TOKEN>

# --- Ollama / IA Local ---
OLLAMA_HOST=http://ollama:11434
OLLAMA_BIN=ollama
OLLAMA_DEFAULT_MODEL=llama3:8b
OLLAMA_TIMEOUT_MS=600000

# --- Contenido Creativo Puntual ---
PRODUCT_ID=<REEMPLAZAR_PRODUCTO_ID_OPCIONAL>
REELS_PER_PRODUCT=1
IMAGES_PER_PRODUCT=2

# --- Webhooks / Integraciones ---
WEBHOOK_BASE_URL=https://<REEMPLAZAR_PUBLIC_BASE_URL>

# --- Cloudflare (DNS / KV / Workers) ---
CLOUDFLARE_API_TOKEN=<REEMPLAZAR_CF_API_TOKEN>
CLOUDFLARE_ZONE_ID=<REEMPLAZAR_CF_ZONE_ID>

# --- Seguridad / Flags ---
DRY_RUN=false                      # true => no ejecuta acciones mutantes

# --- Reservados Futuro / Observabilidad ---
SENTRY_DSN=<REEMPLAZAR_SENTRY_DSN_OPCIONAL>
OTEL_EXPORTER_OTLP_ENDPOINT=<REEMPLAZAR_OTEL_ENDPOINT_OPCIONAL>

# --- Notas ---
# 1. Mantener consistencia entre *_PROD y *_DEV.
# 2. No reutilizar tokens de Admin fuera de scripts controlados.
# 3. DRY_RUN=true permite pruebas sin efectos permanentes.
# 4. LOG_LEVEL: debug|info|warn|error.
# Ejemplo de configuración (no guardes secretos reales aquí)

# SSH / despliegue
SSH_USER=deploy
SSH_HOST_GOIO=0.0.0.0
SSH_KEY=C:\Users\tuusuario\.ssh\id_rsa

# Dominios
GOIO_API_DOMAIN=api.goio.com
GOIO_N8N_DOMAIN=n8n.goio.com
CONTACT_EMAIL_SSL=admin@example.com

# Rutas (servidor y local)
REMOTE_BASE=/srv/apps
LOCAL_GOIO=C:\path\goio-store
LOCAL_GOLLOS=C:\path\gollos-landing
LOCAL_ECO=C:\path\eco-eterno

# Worker continuo (systemd o npm run worker)
WORKER_INTERVAL_MS=60000
TASK_MAX_RETRIES=3
TASK_BASE_BACKOFF_MS=30000

# Webhooks y métricas
PORT=3002
API_TOKEN=
METRICS_TOKEN=

# Shopify (usar estas variables en lugar de config/shopify.json)
SHOPIFY_API_URL=https://goio-store.myshopify.com/admin/api/2023-07
SHOPIFY_TOKEN=

# Cloudflare (DNS y SSL Strict)
# Obtén estos valores en el panel de Cloudflare (perfil -> API Tokens y zona -> Overview)
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_BASE_DOMAIN=goiostore.com
